<div class="grid">
    <div class="col-12">
        <div class="card">
            <h4>Retailer Information</h4>
            <div [hidden]="formDisplay">
                <p-tabView [activeIndex]="index" (onChange)="function($event)">
                    <p-tabPanel header="General Info">
                        <form action="" [formGroup]="retailerinfoForm">
                            <div class="col-12">
                                <div class="p-fluid p-formgrid grid">
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Retailer Code" tooltipPosition="top">Retailer Code</label>
                                        <input pInputText type="text" formControlName="retailer_info_code" placeholder="<<Auto Generate>>" disabled />
                                        <label pTooltip="Dealer Name" tooltipPosition="top">Dealer Name<span class="req">*</span></label>
                                        <p-dropdown [options]="allDealerInfo" formControlName="dealer_info_id" [ngClass]="{ 'is-invalid': submitted && f.dealer_info_id.errors }" placeholder="---Select---"
                                                    optionLabel="dealer_info_name" optionValue="dealer_info_id" [showClear]="true" [filter]="true" filterBy="dealer_info_name"></p-dropdown>

                                        <div *ngIf="submitted && f.dealer_info_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.dealer_info_id.errors.required" class="p-error">Dealer name is required</small>
                                        </div>
                                    </div>                                  
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Image" tooltipPosition="top">Image </label>
                                        <div class=" inputWrapper photo-signature align-self-end flex align-items-center ">
                                            <img class="risBtn m-1" [src]="photourllink" style="width: 100px;" alt="">
                                            <input type="file" formControlName="image_path" class="fileInput risBtn risAdd " style="width: 100px;" #userImage (change)="onSelectImage($event)">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="p-fluid p-formgrid grid">
                                    <div class="field form-group col-12 md:col-6">
                                        <label pTooltip="Retailer Name" tooltipPosition="top">Retailer Name<span class="req">*</span> </label>
                                        <input type="text" class="from-control" formControlName="retailer_info_name"
                                               [ngClass]="{ 'is-invalid': submitted && f.retailer_info_name.errors }"
                                               placeholder="" pInputText required />
                                        <div *ngIf="submitted && f.retailer_info_name.errors" class="invalid-feedback">
                                            <small *ngIf="f.retailer_info_name.errors.required" class="p-error">Retailer name is required</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Retailer Short Name" tooltipPosition="top">Retailer Short Name<span class="req">*</span> </label>
                                        <input pInputText type="text" formControlName="retailer_info_short_name" [ngClass]="{ 'is-invalid': submitted && f.retailer_info_short_name.errors }" placeholder="" />

                                        <div *ngIf="submitted && f.retailer_info_short_name.errors" class="invalid-feedback">
                                            <small *ngIf="f.retailer_info_short_name.errors.required" class="p-error">Retailer Short Name is required</small>
                                        </div>
                                    </div>                                  
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Domicile" tooltipPosition="top">Domicile<span class="req">*</span></label>
                                        <p-dropdown [options]="allDomicile" formControlName="domicile_enum_id" [ngClass]="{ 'is-invalid': submitted && f.domicile_enum_id.errors }" placeholder="---Select---"
                                                    optionLabel="domicile_enum_name" optionValue="domicile_enum_id" [showClear]="true" [filter]="true" filterBy="domicile_enum_name"></p-dropdown>

                                        <div *ngIf="submitted && f.domicile_enum_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.domicile_enum_id.errors.required" class="p-error">Domicile is required</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Trade License" tooltipPosition="top">Trade License </label>
                                        <input pInputText type="text" formControlName="trade_license" placeholder="" />

                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Trade License Date" tooltipPosition="top">Trade License Date </label>
                                        <p-calendar formControlName="trade_license_date" placeholder="" [showIcon]="true" [showButtonBar]="true"></p-calendar>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip=" TIN No" tooltipPosition="top">TIN No </label>
                                        <input type="text" formControlName="TIN" placeholder="" pInputText />
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="BIN No" tooltipPosition="top">BIN No </label>
                                        <input type="text" formControlName="BIN" placeholder="" pInputText />
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Mobile" tooltipPosition="top">Mobile <span class="req">*</span> </label>
                                        <input type="text" formControlName="mobile" [ngClass]="{ 'is-invalid': submitted && f.mobile.errors }" placeholder="" pInputText />
                                        <div *ngIf="submitted && f.mobile.errors" class="invalid-feedback">
                                            <small *ngIf="f.mobile.errors.required" class="p-error">Mobile number is required</small>
                                            <small *ngIf="f.mobile.errors.pattern" class="p-error">Mobile number must be 11 digit</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Phone" tooltipPosition="top">Phone </label>
                                        <input type="text" formControlName="phone" [ngClass]="{ 'is-invalid': submitted && f.phone.errors }" placeholder="" pInputText />

                                        <div *ngIf="submitted && f.phone.errors" class="invalid-feedback">
                                            <small *ngIf="f.phone.errors.pattern" class="p-error">Phone number must be 11 digit</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Email" tooltipPosition="top">Email </label>
                                        <input type="email" formControlName="email" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" placeholder="" pInputText />
                                        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                                            <small *ngIf="f.email.errors.email" class="p-error">Email must be a valid email address</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Web" tooltipPosition="top">Web </label>
                                        <input type="text" formControlName="web_url" placeholder="" pInputText />
                                    </div>


                                </div>
                            </div>
                        </form>
                        <div class="flex justify-content-end pr-2">
                            <button pButton pRipple type="button" (click)="onGeneral()" label="Next" class="risBtn  mr-2 mb-2" icon="pi pi-step-forward"></button>
                            <button pButton pRipple type="button" (click)="toggleFormClose()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="Business Info">
                        <form action="" [formGroup]="retailerinfoForm">
                            <div class="col-12">
                                <div class="p-fluid p-formgrid grid">
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Ownership Type" tooltipPosition="top">Ownership Type<span class="req">*</span> </label>
                                        <p-dropdown [options]="allOwnershipType" formControlName="ownership_type_id" [ngClass]="{ 'is-invalid': submitted && f.ownership_type_id.errors }" placeholder="---Select---"
                                                    optionLabel="ownership_type_name" optionValue="ownership_type_id" [showClear]="true" [filter]="true" filterBy="ownership_type_name"></p-dropdown>
                                        <div *ngIf="submitted && f.ownership_type_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.ownership_type_id.errors.required" class="p-error">Ownership Type is required</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Business Type" tooltipPosition="top">Business Type </label>
                                        <p-dropdown [options]="allBusinessActivities" formControlName="business_type_enum_id" placeholder="---Select---"
                                                    optionLabel="business_type_enum_name" optionValue="business_type_enum_id" [showClear]="true" [filter]="true" filterBy="business_type_enum_name"></p-dropdown>

                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Indusrty Sector" tooltipPosition="top">Indusrty Sector<span class="req">*</span> </label>
                                        <p-dropdown [options]="allIndustrySector" formControlName="industry_sector_id" [ngClass]="{ 'is-invalid': submitted && f.industry_sector_id.errors }" placeholder="---Select---"
                                                    optionLabel="industry_sector_name" optionValue="industry_sector_id" (onChange)="onSelectBySectorId($event.value)" [showClear]="true" [filter]="true" filterBy="industry_sector_name"></p-dropdown>
                                        <div *ngIf="submitted && f.industry_sector_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.industry_sector_id.errors.required" class="p-error">Indusrty Sector is required</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Indusrty Sector" tooltipPosition="top">Indusrty SubSector </label>
                                        <p-dropdown [options]="allIndustrySubSector" formControlName="industry_sub_sector_id" placeholder="---Select---"
                                                    optionLabel="industry_sub_sector_name" optionValue="industry_sub_sector_id" [showClear]="true" [filter]="true" filterBy="industry_sector_name"></p-dropdown>

                                    </div>
                                
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Currency" tooltipPosition="top">Currency<span class="req">*</span> </label>
                                        <p-dropdown [options]="allCurrency" formControlName="currency_id" [ngClass]="{ 'is-invalid': submitted && f.currency_id.errors }" placeholder="---Select---"
                                                    optionLabel="currency_name" optionValue="currency_id" [showClear]="true" [filter]="true" filterBy="currency_name"></p-dropdown>
                                        <div *ngIf="submitted && f.currency_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.currency_id.errors.required" class="p-error">Currency is required</small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </form>
                        <div class="flex justify-content-end pr-2">
                            <button pButton pRipple type="button" (click)="openPrev()" label="Previous" class="risBtn  mr-2 mb-2" icon="pi pi-step-backward"></button>
                            <button pButton pRipple type="button" (click)="onBusiness()" label="Next" class="risBtn  mr-2 mb-2" icon="pi pi-step-forward"></button>
                            <button pButton pRipple type="button" (click)="toggleFormClose()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="Address Info">
                        <form action="" [formGroup]="retailerinfoForm">
                            <div class="col-12">
                                <div class="p-fluid p-formgrid grid">                                   
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Country" tooltipPosition="top">Country<span class="req">*</span></label>
                                        <p-dropdown [options]="allCountry" formControlName="country_id" [ngClass]="{ 'is-invalid': submitted && f.country_id.errors }" placeholder="---Select---"
                                                    optionLabel="country_name" optionValue="country_id" (onChange)="onSelectByCountryId($event.value)" [showClear]="true" [filter]="true" filterBy="country_name"></p-dropdown>

                                        <div *ngIf="submitted && f.country_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.country_id.errors.required" class="p-error">Country is required</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Division" tooltipPosition="top">Division<span class="req">*</span></label>
                                        <p-dropdown [options]="allDivision" formControlName="division_id" [ngClass]="{ 'is-invalid': submitted && f.division_id.errors }" placeholder="---Select---"
                                                    optionLabel="division_name" optionValue="division_id" (onChange)="onSelectByDivisionId($event.value)" [showClear]="true" [filter]="true" filterBy="division_name"></p-dropdown>

                                        <div *ngIf="submitted && f.division_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.division_id.errors.required" class="p-error">Division is required</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="District" tooltipPosition="top">District<span class="req">*</span></label>
                                        <p-dropdown [options]="allDistrict" formControlName="district_id" [ngClass]="{ 'is-invalid': submitted && f.district_id.errors }" placeholder="---Select---"
                                                    optionLabel="district_name" optionValue="district_id" (onChange)="onSelectByDistrictId($event.value)" [showClear]="true" [filter]="true" filterBy="district_name"></p-dropdown>

                                        <div *ngIf="submitted && f.district_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.district_id.errors.required" class="p-error">District is required</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Thana" tooltipPosition="top">Thana<span class="req">*</span></label>
                                        <p-dropdown [options]="allThana" formControlName="thana_id" [ngClass]="{ 'is-invalid': submitted && f.thana_id.errors }" placeholder="---Select---"
                                                    optionLabel="thana_name" optionValue="thana_id" [showClear]="true" [filter]="true" filterBy="thana_name"></p-dropdown>
                                        <div *ngIf="submitted && f.thana_id.errors" class="invalid-feedback">
                                            <small *ngIf="f.thana_id.errors.required" class="p-error">Thana is required</small>
                                        </div>
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Zone" tooltipPosition="top">Zone</label>
                                        <p-dropdown [options]="allZone" formControlName="zone_id" placeholder="---Select---"
                                                    optionLabel="zone_name" optionValue="zone_id" [showClear]="true" [filter]="true" filterBy="zone_name"></p-dropdown>

                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="City/Town" tooltipPosition="top">City/Town </label>
                                        <input type="text" formControlName="city" placeholder="" pInputText />
                                    </div>

                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Post Code" tooltipPosition="top">Post Code </label>
                                        <input type="text" formControlName="post_code" placeholder="" pInputText />
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Block" tooltipPosition="top">Block </label>
                                        <input type="text" formControlName="block" placeholder="" pInputText />
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Road No" tooltipPosition="top">Road No </label>
                                        <input type="text" formControlName="road_no" placeholder="" pInputText />
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="House No" tooltipPosition="top">House No </label>
                                        <input type="text" formControlName="house_no" placeholder="" pInputText />
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Flat No" tooltipPosition="top">Flat No </label>
                                        <input type="text" formControlName="flat_no" placeholder="" pInputText />
                                    </div>
                                    <div class="field col-12 md:col-6">
                                        <label pTooltip="Address Note" tooltipPosition="top">Address Note </label>
                                        <input type="text" formControlName="address_note" [ngClass]="{ 'is-invalid': submitted && f.thana_id.errors }"  placeholder="" pInputText />
                                        <div *ngIf="submitted && f.address_note.errors" class="invalid-feedback">
                                            <small *ngIf="f.address_note.errors.required" class="p-error">Thana is required</small>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </form>
                        <div class="flex justify-content-end pr-2">
                            <button pButton pRipple type="button" (click)="openPrev()" label="Previous" class="risBtn  mr-2 mb-2" icon="pi pi-step-backward"></button>
                            <button pButton pRipple type="button" (click)="SaveRetailerinfo()" label="Save" class="risBtn risSave mr-2 mb-2" icon="pi pi-check"></button>
                            <button pButton pRipple type="button" (click)="toggleFormClose()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                        </div>
                    </p-tabPanel>                    
                    <p-tabPanel header="Contact Info">
                        <div [hidden]="formDisplayContact">
                            <p-tabView [(activeIndex)]="indexContact" (onChange)="functionContact($event)">
                                <p-tabPanel header="Basic Info">
                                    <form action="" [formGroup]="retailercontactForm">

                                        <div class="col-12">
                                            <div class="p-fluid p-formgrid grid">
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Retailer Contact Code" tooltipPosition="top">Retailer Contact Code</label>
                                                    <input type="text" formControlName="retailer_contact_info_code" placeholder="<<<Auto Generate>>>" pInputText disabled />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Image" tooltipPosition="top">Image </label>
                                                    <div class=" inputWrapper photo-signature align-self-end flex align-items-center ">
                                                        <img class="risBtn m-1" [src]="photourllink" style="width: 110px;" alt="">
                                                        <input type="file" formControlName="image_path" class="fileInput risBtn risAdd " style="width: 110px;" #userImage (change)="onSelectContactImage($event)">
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Person Name" tooltipPosition="top">Person Name<span class="req">*</span></label>
                                                    <input type="text" formControlName="person_name" [ngClass]="{ 'is-invalid': submittedContact && g.person_name.errors }" placeholder="" pInputText />
                                                    <div *ngIf="submittedContact && g.person_name.errors" class="invalid-feedback">
                                                        <small *ngIf="g.person_name.errors.required" class="p-error">Person name is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Person Designation" tooltipPosition="top">Person Designation<span class="req">*</span></label>
                                                    <input type="text" formControlName="person_designation" [ngClass]="{ 'is-invalid': submittedContact && g.person_designation.errors }" placeholder="" pInputText />
                                                    <div *ngIf="submittedContact && g.person_designation.errors" class="invalid-feedback">
                                                        <small *ngIf="g.person_designation.errors.required" class="p-error">Person Designation is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Father Name" tooltipPosition="top">Father Name</label>
                                                    <input type="text" formControlName="father_name" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Mother Name" tooltipPosition="top">Mother Name</label>
                                                    <input type="text" formControlName="mother_name" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Date Of Birth" tooltipPosition="top">Date Of Birth</label>
                                                    <p-calendar formControlName="date_of_birth" placeholder="" [showIcon]="true" [showButtonBar]="true"></p-calendar>

                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Religion" tooltipPosition="top">Religion</label>
                                                    <p-dropdown [options]="allReligion" formControlName="religion_enum_id" placeholder="---Select---"
                                                                optionLabel="religion_enum_name" optionValue="religion_enum_id" [showClear]="true" [filter]="true" filterBy="religion_enum_name"></p-dropdown>

                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Religion" tooltipPosition="top">Blood Group</label>
                                                    <p-dropdown [options]="allBloodGroup" formControlName="blood_group_enum_id" placeholder="---Select---"
                                                                optionLabel="blood_group_enum_name" optionValue="blood_group_enum_id" [showClear]="true" [filter]="true" filterBy="blood_group_enum_name"></p-dropdown>

                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Nationality" tooltipPosition="top">Nationality</label>
                                                    <input type="text" formControlName="nationality" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="National Id" tooltipPosition="top">National Id</label>
                                                    <input type="text" formControlName="national_id_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Birth Certificate No" tooltipPosition="top">Birth Certificate No</label>
                                                    <input type="text" formControlName="birth_certificate_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Passport No" tooltipPosition="top">Passport No</label>
                                                    <input type="text" formControlName="passport_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Mobile" tooltipPosition="top">Mobile <span class="req">*</span> </label>
                                                    <input type="text" formControlName="mobile" [ngClass]="{ 'is-invalid': submittedContact && g.mobile.errors }" placeholder="" pInputText />

                                                    <div *ngIf="submittedContact && g.mobile.errors" class="invalid-feedback">
                                                        <small *ngIf="g.mobile.errors.required" class="p-error">Mobile number is required</small>
                                                        <small *ngIf="g.mobile.errors.pattern" class="p-error">Mobile number must be 11 digit</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Phone" tooltipPosition="top">Phone </label>
                                                    <input type="text" formControlName="phone" [ngClass]="{ 'is-invalid': submittedContact && g.phone.errors }" placeholder="" pInputText />

                                                    <div *ngIf="submittedContact && g.phone.errors" class="invalid-feedback">
                                                        <small *ngIf="g.phone.errors.pattern" class="p-error">Phone number must be 11 digit</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Email" tooltipPosition="top">Email </label>
                                                    <input type="email" formControlName="email" [ngClass]="{ 'is-invalid': submittedContact && g.email.errors }" placeholder="" pInputText />
                                                    <div *ngIf="submittedContact && g.email.errors" class="invalid-feedback">
                                                        <small *ngIf="g.email.errors.email" class="p-error">Email must be a valid email address</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Emergency Contact" tooltipPosition="top">Emergency Contact </label>
                                                    <input type="text" formControlName="emergency_contact" [ngClass]="{ 'is-invalid': submittedContact && g.emergency_contact.errors }" placeholder="" pInputText />

                                                    <div *ngIf="submittedContact && g.emergency_contact.errors" class="invalid-feedback">
                                                        <small *ngIf="g.emergency_contact.errors.pattern" class="p-error">Emergency contact number must be 11 digit</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="flex justify-content-end pr-2">
                                        <button pButton pRipple type="button" (click)="openPrev()" label="Previous" class="risBtn  mr-2 mb-2" icon="pi pi-step-backward"></button>
                                        <button pButton pRipple type="button" (click)="onContactBasic()" label="Next" class="risBtn mr-2 mb-2" icon="pi pi-step-forward"></button>
                                        <button pButton pRipple type="button" (click)="toggleFormCloseContact()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                                    </div>
                                </p-tabPanel>
                                <p-tabPanel header="Address Info">
                                    <form action="" [formGroup]="retailercontactForm">
                                        <div class="col-12">
                                            <h6>Parmanent Address:</h6>
                                            <div class="p-fluid p-formgrid grid">
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Country" tooltipPosition="top">Country<span class="req">*</span></label>
                                                    <p-dropdown [options]="allCountry" formControlName="permanent_country_id" [ngClass]="{ 'is-invalid': submittedContact && g.permanent_country_id.errors }" placeholder="---Select---"
                                                                optionLabel="country_name" optionValue="country_id" (onChange)="onSelectByCountryId($event.value)" [showClear]="true" [filter]="true" filterBy="country_name"></p-dropdown>

                                                    <div *ngIf="submittedContact && g.permanent_country_id.errors" class="invalid-feedback">
                                                        <small *ngIf="g.permanent_country_id.errors.required" class="p-error">Country is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Division" tooltipPosition="top">Division<span class="req">*</span></label>
                                                    <p-dropdown [options]="allDivision" formControlName="permanent_division_id" [ngClass]="{ 'is-invalid': submittedContact && g.permanent_division_id.errors }" placeholder="---Select---"
                                                                optionLabel="division_name" optionValue="division_id" (onChange)="onSelectByDivisionId($event.value)" [showClear]="true" [filter]="true" filterBy="division_name"></p-dropdown>

                                                    <div *ngIf="submittedContact && g.permanent_division_id.errors" class="invalid-feedback">
                                                        <small *ngIf="g.permanent_division_id.errors.required" class="p-error">Division is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="District" tooltipPosition="top">District<span class="req">*</span></label>
                                                    <p-dropdown [options]="allDistrict" formControlName="permanent_district_id" [ngClass]="{ 'is-invalid': submittedContact && g.permanent_district_id.errors }" placeholder="---Select---"
                                                                optionLabel="district_name" optionValue="district_id" (onChange)="onSelectByDistrictId($event.value)" [showClear]="true" [filter]="true" filterBy="district_name"></p-dropdown>

                                                    <div *ngIf="submittedContact && g.permanent_district_id.errors" class="invalid-feedback">
                                                        <small *ngIf="g.permanent_district_id.errors.required" class="p-error">District is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Thana" tooltipPosition="top">Thana<span class="req">*</span></label>
                                                    <p-dropdown [options]="allThana" formControlName="permanent_thana_id" [ngClass]="{ 'is-invalid': submittedContact && g.permanent_thana_id.errors }" placeholder="---Select---"
                                                                optionLabel="thana_name" optionValue="thana_id" [showClear]="true" [filter]="true" filterBy="thana_name"></p-dropdown>
                                                    <div *ngIf="submittedContact && g.permanent_thana_id.errors" class="invalid-feedback">
                                                        <small *ngIf="g.permanent_thana_id.errors.required" class="p-error">Thana is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Zone" tooltipPosition="top">Zone</label>
                                                    <p-dropdown [options]="allZone" formControlName="permanent_zone_id" placeholder="---Select---"
                                                                optionLabel="zone_name" optionValue="zone_id" [showClear]="true" [filter]="true" filterBy="zone_name"></p-dropdown>

                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="City/Town" tooltipPosition="top">City/Town </label>
                                                    <input type="text" formControlName="permanent_city" placeholder="" pInputText />
                                                </div>

                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Post Code" tooltipPosition="top">Post Code </label>
                                                    <input type="text" formControlName="permanent_post_code" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Block" tooltipPosition="top">Block </label>
                                                    <input type="text" formControlName="permanent_block" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Road No" tooltipPosition="top">Road No </label>
                                                    <input type="text" formControlName="permanent_road_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="House No" tooltipPosition="top">House No </label>
                                                    <input type="text" formControlName="permanent_house_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Flat No" tooltipPosition="top">Flat No </label>
                                                    <input type="text" formControlName="permanent_flat_no" placeholder="" pInputText />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <h6>Present Address :</h6>
                                            <div class="p-fluid grid col-12 flex justify-content-start flex-wrap card-container">
                                                <p-checkbox binary="true" label="Same As Present Address" (onChange)="sameAddress($event)" inputId="binary"></p-checkbox>

                                            </div>
                                            <div class="p-fluid p-formgrid grid">
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Country" tooltipPosition="top">Country<span class="req">*</span></label>
                                                    <p-dropdown [options]="allCountry" formControlName="present_country_id" [ngClass]="{ 'is-invalid': submittedContact && g.present_country_id.errors }" placeholder="---Select---"
                                                                optionLabel="country_name" optionValue="country_id" (onChange)="onSelectByCountryId($event.value)" [showClear]="true" [filter]="true" filterBy="country_name"></p-dropdown>

                                                    <div *ngIf="submittedContact && g.present_country_id.errors" class="invalid-feedback">
                                                        <small *ngIf="g.present_country_id.errors.required" class="p-error">Country is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Division" tooltipPosition="top">Division<span class="req">*</span></label>
                                                    <p-dropdown [options]="allDivision" formControlName="present_division_id" [ngClass]="{ 'is-invalid': submittedContact && g.present_division_id.errors }" placeholder="---Select---"
                                                                optionLabel="division_name" optionValue="division_id" (onChange)="onSelectByDivisionId($event.value)" [showClear]="true" [filter]="true" filterBy="division_name"></p-dropdown>

                                                    <div *ngIf="submittedContact && g.present_division_id.errors" class="invalid-feedback">
                                                        <small *ngIf="g.present_division_id.errors.required" class="p-error">Division is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="District" tooltipPosition="top">District<span class="req">*</span></label>
                                                    <p-dropdown [options]="allDistrict" formControlName="present_district_id" [ngClass]="{ 'is-invalid': submittedContact && g.present_district_id.errors }" placeholder="---Select---"
                                                                optionLabel="district_name" optionValue="district_id" (onChange)="onSelectByDistrictId($event.value)" [showClear]="true" [filter]="true" filterBy="district_name"></p-dropdown>

                                                    <div *ngIf="submittedContact && g.present_district_id.errors" class="invalid-feedback">
                                                        <small *ngIf="g.present_district_id.errors.required" class="p-error">District is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Thana" tooltipPosition="top">Thana<span class="req">*</span></label>
                                                    <p-dropdown [options]="allThana" formControlName="present_thana_id" [ngClass]="{ 'is-invalid': submittedContact && g.present_thana_id.errors }" placeholder="---Select---"
                                                                optionLabel="thana_name" optionValue="thana_id" [showClear]="true" [filter]="true" filterBy="thana_name"></p-dropdown>
                                                    <div *ngIf="submittedContact && g.present_thana_id.errors" class="invalid-feedback">
                                                        <small *ngIf="g.present_thana_id.errors.required" class="p-error">Thana is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Zone" tooltipPosition="top">Zone</label>
                                                    <p-dropdown [options]="allZone" formControlName="present_zone_id" placeholder="---Select---"
                                                                optionLabel="zone_name" optionValue="zone_id" [showClear]="true" [filter]="true" filterBy="zone_name"></p-dropdown>

                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="City/Town" tooltipPosition="top">City/Town </label>
                                                    <input type="text" formControlName="present_city" placeholder="" pInputText />
                                                </div>

                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Post Code" tooltipPosition="top">Post Code </label>
                                                    <input type="text" formControlName="present_post_code" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Block" tooltipPosition="top">Block </label>
                                                    <input type="text" formControlName="present_block" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Road No" tooltipPosition="top">Road No </label>
                                                    <input type="text" formControlName="present_road_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="House No" tooltipPosition="top">House No </label>
                                                    <input type="text" formControlName="present_house_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Flat No" tooltipPosition="top">Flat No </label>
                                                    <input type="text" formControlName="present_flat_no" placeholder="" pInputText />
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="flex justify-content-end pr-2">
                                        <button pButton pRipple type="button" (click)="openPrevContact()" label="Previous" class="risBtn  mr-2 mb-2" icon="pi pi-step-backward"></button>
                                        <button pButton pRipple type="button" (click)="SaveRetailerContactInfo()" label="Save" class="risBtn risSave mr-2 mb-2" icon="pi pi-check"></button>
                                        <button pButton pRipple type="button" (click)="toggleFormCloseContact()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                                    </div>
                                </p-tabPanel>
                            </p-tabView>
                        </div>
                        <div [hidden]="gridDisplayContact">
                            <button pButton pRipple type="button" (click)="showBasicDialogContactNew()" label="New" icon="pi pi-plus" class="risBtn risAdd mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="loadRetailerContactinfoToEdit()" label="Edit" icon="pi pi-pencil" class="risBtn risEdit mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="deleteContact($event)" label="Delete" icon="pi pi-trash" class="risBtn risDelete mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="toggleFormClose()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                            <p-confirmPopup key="delete"></p-confirmPopup>

                            <p-table [value]="retailercontactinfoList" styleClass="p-datatable-striped p-datatable-gridlines p-datatable-sm" [paginator]="true" [rows]="10" selectionMode="single" [showCurrentPageReport]="true" responsiveLayout="scroll"
                                     [(selection)]="selectedretailercontactinfo" dataKey="RetailerContactInfoId" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[10,25,50]" (onRowSelect)="onRowSelectContact($event)" (onRowUnselect)="onRowUnselectContact($event)">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <!--<th pSortableColumn="PersonalPhone">Id</th>-->
                                        <th pSortableColumn="Code">
                                            Retailer Contact Code
                                            <p-columnFilter type="text" field="RetailerContactInfoCode" display="menu"></p-columnFilter>
                                            <p-sortIcon field="Code"></p-sortIcon>
                                        </th>
                                        <th pSortableColumn="RetailerinfoName">
                                            Contact Person Name
                                            <p-columnFilter type="text" field="RetailerinfoName" display="menu"></p-columnFilter>
                                        </th>
                                        <th pSortableColumn="PersonalPhone">Person Degignation</th>
                                        <th pSortableColumn="PersonalPhone">Mobile</th>
                                        <th pSortableColumn="PersonalEmail">Email</th>
                                        <th pSortableColumn="PresentAddressNote">Emergency Contact</th>
                                    </tr>
                                </ng-template>

                                <ng-template pTemplate="body" let-retailercontactinfo let-rowDataContact let-columns="columns">

                                    <tr [pSelectableRow]="retailercontactinfo">
                                        <td hidden>{{retailercontactinfo.RetailerInfoId}}</td>
                                        <td>{{retailercontactinfo.RetailerContactInfoCode}}</td>
                                        <td>{{retailercontactinfo.PersonName}}</td>
                                        <td>{{retailercontactinfo.PersonDesignation}}</td>
                                        <td>{{retailercontactinfo.Mobile}}</td>
                                        <td>{{retailercontactinfo.Email}}</td>
                                        <td>{{retailercontactinfo.EmergencyContact}}</td>
                                    </tr>
                                </ng-template>

                            </p-table>
                            <!--end grid display -------------->
                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="Location Info">
                        <div [hidden]="formDisplayLocation">
                            <p-tabView [(activeIndex)]="indexLocation" (onChange)="functionLocation($event)">
                                <p-tabPanel header="Basic Info">
                                    <form action="" [formGroup]="retailerlocationForm">

                                        <div class="col-12">
                                            <div class="p-fluid p-formgrid grid">
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Retailer Location Code" tooltipPosition="top">Retailer Location Code</label>
                                                    <input type="text" formControlName="retailer_location_info_code" placeholder="<<<Auto Generate>>>" pInputText disabled />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Retailer Location Name" tooltipPosition="top">Retailer Location Name<span class="req">*</span></label>
                                                    <input type="text" formControlName="retailer_location_info_name" [ngClass]="{ 'is-invalid': submittedLocation && h.retailer_location_info_name.errors }" placeholder="" pInputText />
                                                    <div *ngIf="submittedLocation && h.retailer_location_info_name.errors" class="invalid-feedback">
                                                        <small *ngIf="h.retailer_location_info_name.errors.required" class="p-error">Retailer Location name is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Location Short Name" tooltipPosition="top">Location Short Name<span class="req">*</span></label>
                                                    <input type="text" formControlName="retailer_location_info_short_name" [ngClass]="{ 'is-invalid': submittedLocation && h.retailer_location_info_short_name.errors }" placeholder="" pInputText />
                                                    <div *ngIf="submittedLocation && h.retailer_location_info_short_name.errors" class="invalid-feedback">
                                                        <small *ngIf="h.retailer_location_info_short_name.errors.required" class="p-error">Person Designation is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Mobile" tooltipPosition="top">Mobile <span class="req">*</span> </label>
                                                    <input type="text" formControlName="mobile" [ngClass]="{ 'is-invalid': submittedLocation && h.mobile.errors }" placeholder="" pInputText />

                                                    <div *ngIf="submittedLocation && h.mobile.errors" class="invalid-feedback">
                                                        <small *ngIf="h.mobile.errors.required" class="p-error">Mobile number is required</small>
                                                        <small *ngIf="h.mobile.errors.pattern" class="p-error">Mobile number must be 11 digit</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Phone" tooltipPosition="top">Phone </label>
                                                    <input type="text" formControlName="phone" [ngClass]="{ 'is-invalid': submittedLocation && h.phone.errors }" placeholder="" pInputText />

                                                    <div *ngIf="submittedLocation && h.phone.errors" class="invalid-feedback">
                                                        <small *ngIf="h.phone.errors.pattern" class="p-error">Phone number must be 11 digit</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Email" tooltipPosition="top">Email </label>
                                                    <input type="email" formControlName="email" [ngClass]="{ 'is-invalid': submittedLocation && h.email.errors }" placeholder="" pInputText />
                                                    <div *ngIf="submittedLocation && h.email.errors" class="invalid-feedback">
                                                        <small *ngIf="h.email.errors.email" class="p-error">Email must be a valid email address</small>
                                                    </div>

                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Trade License" tooltipPosition="top">Trade License</label>
                                                    <input type="text" formControlName="trade_license" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Trade License Date" tooltipPosition="top">Trade License Date</label>
                                                    <p-calendar formControlName="trade_license_date" placeholder="" [showIcon]="true" [showButtonBar]="true"></p-calendar>

                                                </div>
                                                <div class="field col-12 md:col-12">
                                                    <label pTooltip="Emergency Contact" tooltipPosition="top">Emergency Contact </label>
                                                    <input type="text" formControlName="emergency_contact" [ngClass]="{ 'is-invalid': submittedLocation && h.emergency_contact.errors }" placeholder="" pInputText />
                                                    <div *ngIf="submittedLocation && h.emergency_contact.errors" class="invalid-feedback">
                                                        <small *ngIf="h.emergency_contact.errors.pattern" class="p-error">Emergency contact number must be 11 digit</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="flex justify-content-end pr-2">
                                        <button pButton pRipple type="button" (click)="openPrev()" label="Previous" class="risBtn  mr-2 mb-2" icon="pi pi-step-backward"></button>
                                        <button pButton pRipple type="button" (click)="onLocationBasic()" label="Next" class="risBtn mr-2 mb-2" icon="pi pi-step-forward"></button>
                                        <button pButton pRipple type="button" (click)="toggleFormCloseLocation()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                                    </div>
                                </p-tabPanel>
                                <p-tabPanel header="Address Info">
                                    <form action="" [formGroup]="retailerlocationForm">
                                        <div class="col-12">
                                            <div class="p-fluid p-formgrid grid">
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Country" tooltipPosition="top">Country<span class="req">*</span></label>
                                                    <p-dropdown [options]="allCountry" formControlName="country_id" [ngClass]="{ 'is-invalid': submittedLocation && h.country_id.errors }" placeholder="---Select---"
                                                                optionLabel="country_name" optionValue="country_id" (onChange)="onSelectByCountryId($event.value)" [showClear]="true" [filter]="true" filterBy="country_name"></p-dropdown>

                                                    <div *ngIf="submittedLocation && h.country_id.errors" class="invalid-feedback">
                                                        <small *ngIf="h.country_id.errors.required" class="p-error">Country is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Division" tooltipPosition="top">Division<span class="req">*</span></label>
                                                    <p-dropdown [options]="allDivision" formControlName="division_id" [ngClass]="{ 'is-invalid': submittedLocation && h.division_id.errors }" placeholder="---Select---"
                                                                optionLabel="division_name" optionValue="division_id" (onChange)="onSelectByDivisionId($event.value)" [showClear]="true" [filter]="true" filterBy="division_name"></p-dropdown>

                                                    <div *ngIf="submittedLocation && h.division_id.errors" class="invalid-feedback">
                                                        <small *ngIf="h.division_id.errors.required" class="p-error">Division is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="District" tooltipPosition="top">District<span class="req">*</span></label>
                                                    <p-dropdown [options]="allDistrict" formControlName="district_id" [ngClass]="{ 'is-invalid': submittedLocation && h.district_id.errors }" placeholder="---Select---"
                                                                optionLabel="district_name" optionValue="district_id" (onChange)="onSelectByDistrictId($event.value)" [showClear]="true" [filter]="true" filterBy="district_name"></p-dropdown>

                                                    <div *ngIf="submittedLocation && h.district_id.errors" class="invalid-feedback">
                                                        <small *ngIf="h.district_id.errors.required" class="p-error">District is required</small>
                                                    </div>
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Thana" tooltipPosition="top">Thana<span class="req">*</span></label>
                                                    <p-dropdown [options]="allThana" formControlName="thana_id" [ngClass]="{ 'is-invalid': submittedLocation && h.thana_id.errors }" placeholder="---Select---"
                                                                optionLabel="thana_name" optionValue="thana_id" [showClear]="true" [filter]="true" filterBy="thana_name"></p-dropdown>
                                                    <div *ngIf="submittedLocation && h.thana_id.errors" class="invalid-feedback">
                                                        <small *ngIf="h.thana_id.errors.required" class="p-error">Thana is required</small>
                                                    </div>
                                                </div>

                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="City/Town" tooltipPosition="top">City/Town </label>
                                                    <input type="text" formControlName="city" placeholder="" pInputText />
                                                </div>

                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Post Code" tooltipPosition="top">Post Code </label>
                                                    <input type="text" formControlName="post_code" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Block" tooltipPosition="top">Block </label>
                                                    <input type="text" formControlName="block" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Road No" tooltipPosition="top">Road No </label>
                                                    <input type="text" formControlName="road_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="House No" tooltipPosition="top">House No </label>
                                                    <input type="text" formControlName="house_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12 md:col-6">
                                                    <label pTooltip="Flat No" tooltipPosition="top">Flat No </label>
                                                    <input type="text" formControlName="flat_no" placeholder="" pInputText />
                                                </div>
                                                <div class="field col-12">
                                                    <label pTooltip="Address Note" tooltipPosition="top">Address Note </label>
                                                    <input type="text" formControlName="address_note" [ngClass]="{ 'is-invalid': submittedLocation && h.address_note.errors }" placeholder="" pInputText />
                                                    <div *ngIf="submittedLocation && h.address_note.errors" class="invalid-feedback">
                                                        <small *ngIf="h.address_note.errors.required" class="p-error">Address note is required</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <div class="flex justify-content-end pr-2">
                                        <button pButton pRipple type="button" (click)="openPrevLocation()" label="Previous" class="risBtn  mr-2 mb-2" icon="pi pi-step-backward"></button>
                                        <button pButton pRipple type="button" (click)="SaveRetailerLocationInfo()" label="Save" class="risBtn risSave mr-2 mb-2" icon="pi pi-check"></button>
                                        <button pButton pRipple type="button" (click)="toggleFormCloseLocation()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                                    </div>
                                </p-tabPanel>
                            </p-tabView>
                        </div>
                        <div [hidden]="gridDisplayLocation">
                            <button pButton pRipple type="button" (click)="showBasicDialogLocationNew()" label="New" icon="pi pi-plus" class="risBtn risAdd mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="loadRetailerLocationinfoToEdit()" label="Edit" icon="pi pi-pencil" class="risBtn risEdit mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="deleteLocation($event)" label="Delete" icon="pi pi-trash" class="risBtn risDelete mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="toggleFormClose()" label="Close" class="risBtn risClose mr-2 mb-2" icon="pi pi-times"></button>
                            <p-confirmPopup key="delete"></p-confirmPopup>

                            <p-table [value]="retailerlocationinfoList" styleClass="p-datatable-striped p-datatable-gridlines p-datatable-sm" [paginator]="true" [rows]="10" selectionMode="single" [showCurrentPageReport]="true" responsiveLayout="scroll"
                                     [(selection)]="selectedretailerlocationinfo" dataKey="RetailerLocationInfoId" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[10,25,50]" (onRowSelect)="onRowSelectLocation($event)" (onRowUnselect)="onRowUnselectLocation($event)">
                                <ng-template pTemplate="header">
                                    <tr>
                                        <!--<th pSortableColumn="PersonalPhone">Id</th>-->
                                        <th pSortableColumn="Code">
                                            Retailer Location Code
                                            <p-columnFilter type="text" field="RetailerLocationInfoCode" display="menu"></p-columnFilter>
                                            <p-sortIcon field="Code"></p-sortIcon>
                                        </th>
                                        <th pSortableColumn="RetailerLocationInfoName">
                                            Retailer Location Name
                                            <p-columnFilter type="text" field="RetailerLocationInfoName" display="menu"></p-columnFilter>
                                        </th>
                                        <th pSortableColumn="PersonalPhone">Mobile</th>
                                        <th pSortableColumn="PersonalEmail">Email</th>
                                        <th pSortableColumn="PresentAddressNote">Emergency Contact</th>
                                    </tr>
                                </ng-template>

                                <ng-template pTemplate="body" let-retailerlocationinfo let-rowDataLocation let-columns="columns">

                                    <tr [pSelectableRow]="retailerlocationinfo">
                                        <td hidden>{{retailerlocationinfo.RetailerInfoId}}</td>
                                        <td>{{retailerlocationinfo.RetailerLocationInfoCode}}</td>
                                        <td>{{retailerlocationinfo.RetailerLocationInfoName}}</td>
                                        <td>{{retailerlocationinfo.Mobile}}</td>
                                        <td>{{retailerlocationinfo.Email}}</td>
                                        <td>{{retailerlocationinfo.EmergencyLocation}}</td>
                                    </tr>
                                </ng-template>

                            </p-table>
                            <!--end grid display -------------->
                        </div>
                    </p-tabPanel>
                </p-tabView>
            </div>
            <!--end form display------------->
            <div [hidden]="gridDisplay">                
                <p-table #dt [value]="retailerinfoList" styleClass="p-datatable-striped p-datatable-gridlines p-datatable-sm" [paginator]="true" [rows]="10" selectionMode="single" [showCurrentPageReport]="true" responsiveLayout="scroll"
                         [(selection)]="selectedretailerinfo" dataKey="RetailerInfoId" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[10,25,50]"
                         (onRowSelect)="onRowSelect($event)" (onRowUnselect)="onRowUnselect($event)" [globalFilterFields]="['RetailerInfoCode','RetailerInfoName']">
                    <ng-template pTemplate="caption">
                        <div class="flex">
                            <button pButton pRipple type="button" (click)="showBasicDialog()" label="New" icon="pi pi-plus" class="risBtn risAdd mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="loadRetailerinfoToEdit()" label="Edit" icon="pi pi-pencil" class="risBtn risEdit mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="deleteRetailer($event)" label="Delete" icon="pi pi-trash" class="risBtn risDelete mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="loadRetailerinfoContactGrid()" label="Contact Info" icon="pi pi-plus" class="risBtn risAdd mr-2 mb-2"></button>
                            <button pButton pRipple type="button" (click)="loadRetailerinfoLocationGrid()" label="Location Info" icon="pi pi-plus" class="risBtn risAdd mr-2 mb-2"></button>
                            <p-confirmPopup key="delete"></p-confirmPopup>
                            <span class="p-input-icon-left ml-auto">
                                <i class="pi pi-search"></i>
                                <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Search by any" />
                            </span>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th pSortableColumn="Code">
                                Retailer Code
                                <p-columnFilter type="text" field="RetailerInfoCode" display="menu"></p-columnFilter>
                                <p-sortIcon field="Code"></p-sortIcon>
                            </th>
                            <th pSortableColumn="RetailerinfoName">
                                Retailer Name
                                <p-columnFilter type="text" field="RetailerinfoName" display="menu"></p-columnFilter>
                            </th>
                            <th pSortableColumn="PersonalPhone">Mobile</th>
                            <th pSortableColumn="PersonalEmail">Email</th>
                            <th pSortableColumn="PresentAddressNote">Address</th>
                            <th>Status</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-retailerinfo let-rowData let-columns="columns">
                        <tr [pSelectableRow]="retailerinfo">
                            <td hidden>{{retailerinfo.RetailerInfoId}}</td>
                            <td>{{retailerinfo.RetailerInfoCode}}</td>
                            <td>{{retailerinfo.RetailerInfoName}}</td>
                            <td>{{retailerinfo.Mobile}}</td>
                            <td>{{retailerinfo.Email}}</td>
                            <td>{{retailerinfo.AddressNote}}</td>
                            <td *ngIf="retailerinfo.IsActive===true">{{"Active"}}</td>
                            <td *ngIf="retailerinfo.IsActive===false">{{"In Active"}}</td>
                        </tr>
                    </ng-template>

                </p-table>
                <!--end grid display -------------->
            </div>
        </div>
    </div>
</div>
